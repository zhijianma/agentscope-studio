<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Run Tracing | AgentScope-Studio</title>
    <meta name="description" content="A development-oriented visualization toolkit for AgentScope">
    <meta name="generator" content="VitePress v2.0.0-alpha.13">
    <link rel="preload stylesheet" href="/assets/style.BARu6ZTB.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BgzfLhvi.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CPtebdgH.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DP2I44nD.js">
    <link rel="modulepreload" href="/assets/develop_tracing.md.DeF2aZ2f.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a1287e7a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-3b257a0a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-3b257a0a>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a1287e7a data-v-a0b2321a><div class="VPNavBar" data-v-a0b2321a data-v-b0e57036><div class="wrapper" data-v-b0e57036><div class="container" data-v-b0e57036><div class="title" data-v-b0e57036><div class="VPNavBarTitle has-sidebar" data-v-b0e57036 data-v-381c7abb><a class="title" href="/" data-v-381c7abb><!--[--><!--]--><!----><span data-v-381c7abb>AgentScope-Studio</span><!--[--><!--]--></a></div></div><div class="content" data-v-b0e57036><div class="content-body" data-v-b0e57036><!--[--><!--]--><div class="VPNavBarSearch search" data-v-b0e57036><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b0e57036 data-v-860fda33><span id="main-nav-aria-label" class="visually-hidden" data-v-860fda33> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-860fda33 data-v-3224c352><!--[--><span data-v-3224c352>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tutorial/overview.html" tabindex="0" data-v-860fda33 data-v-3224c352><!--[--><span data-v-3224c352>Tutorial</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-b0e57036 data-v-fd0e749a data-v-0b52c8fe><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-0b52c8fe><span class="text" data-v-0b52c8fe><span class="vpi-languages option-icon" data-v-0b52c8fe></span><!----><span class="vpi-chevron-down text-icon" data-v-0b52c8fe></span></span></button><div class="menu" data-v-0b52c8fe><div class="VPMenu" data-v-0b52c8fe data-v-ca69ded9><!----><!--[--><!--[--><div class="items" data-v-fd0e749a><p class="title" data-v-fd0e749a>English</p><!--[--><div class="VPMenuLink" data-v-fd0e749a data-v-dd9cbb7c><a class="VPLink link" href="/zh_CN/develop/tracing.html" lang="zh-CN" data-v-dd9cbb7c><!--[--><span data-v-dd9cbb7c>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-b0e57036 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-b0e57036 data-v-164c457f data-v-c26cd89d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/agentscope-ai/agentscope-studio" aria-label="github" target="_blank" rel="me noopener" data-v-c26cd89d data-v-874c0b76><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-b0e57036 data-v-020e0d5e data-v-0b52c8fe><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0b52c8fe><span class="vpi-more-horizontal icon" data-v-0b52c8fe></span></button><div class="menu" data-v-0b52c8fe><div class="VPMenu" data-v-0b52c8fe data-v-ca69ded9><!----><!--[--><!--[--><div class="group translations" data-v-020e0d5e><p class="trans-title" data-v-020e0d5e>English</p><!--[--><div class="VPMenuLink" data-v-020e0d5e data-v-dd9cbb7c><a class="VPLink link" href="/zh_CN/develop/tracing.html" lang="zh-CN" data-v-dd9cbb7c><!--[--><span data-v-dd9cbb7c>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><div class="group" data-v-020e0d5e><div class="item appearance" data-v-020e0d5e><p class="label" data-v-020e0d5e>Appearance</p><div class="appearance-action" data-v-020e0d5e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-020e0d5e data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-020e0d5e><div class="item social-links" data-v-020e0d5e><div class="VPSocialLinks social-links-list" data-v-020e0d5e data-v-c26cd89d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/agentscope-ai/agentscope-studio" aria-label="github" target="_blank" rel="me noopener" data-v-c26cd89d data-v-874c0b76><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b0e57036 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-b0e57036><div class="divider-line" data-v-b0e57036></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a1287e7a data-v-5f9a0aea><div class="container" data-v-5f9a0aea><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5f9a0aea><span class="vpi-align-left menu-icon" data-v-5f9a0aea></span><span class="menu-text" data-v-5f9a0aea>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5f9a0aea data-v-8ca43daf><button data-v-8ca43daf>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a1287e7a data-v-a4243360><div class="curtain" data-v-a4243360></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a4243360><span class="visually-hidden" id="sidebar-aria-label" data-v-a4243360> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-b60d39e6><section class="VPSidebarItem level-0" data-v-b60d39e6 data-v-c467f688><div class="item" role="button" tabindex="0" data-v-c467f688><div class="indicator" data-v-c467f688></div><h2 class="text" data-v-c467f688>Tutorial</h2><!----></div><div class="items" data-v-c467f688><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/tutorial/overview.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/tutorial/quick_start.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/tutorial/contributing.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Contributing</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-b60d39e6><section class="VPSidebarItem level-0 has-active" data-v-b60d39e6 data-v-c467f688><div class="item" role="button" tabindex="0" data-v-c467f688><div class="indicator" data-v-c467f688></div><h2 class="text" data-v-c467f688>Develop</h2><!----></div><div class="items" data-v-c467f688><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/develop/project.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Project</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/develop/tracing.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Tracing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/develop/evaluation.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Evaluation</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-b60d39e6><section class="VPSidebarItem level-0" data-v-b60d39e6 data-v-c467f688><div class="item" role="button" tabindex="0" data-v-c467f688><div class="indicator" data-v-c467f688></div><h2 class="text" data-v-c467f688>Agent</h2><!----></div><div class="items" data-v-c467f688><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c467f688 data-v-c467f688><div class="item" data-v-c467f688><div class="indicator" data-v-c467f688></div><a class="VPLink link link" href="/agent/friday.html" data-v-c467f688><!--[--><p class="text" data-v-c467f688>Friday</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a1287e7a data-v-8d2a3c6c><div class="VPDoc has-sidebar has-aside" data-v-8d2a3c6c data-v-e9c01962><!--[--><!--]--><div class="container" data-v-e9c01962><div class="aside" data-v-e9c01962><div class="aside-curtain" data-v-e9c01962></div><div class="aside-container" data-v-e9c01962><div class="aside-content" data-v-e9c01962><div class="VPDocAside" data-v-e9c01962 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-3dd0d1cf><div class="content" data-v-3dd0d1cf><div class="outline-marker" data-v-3dd0d1cf></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-3dd0d1cf>On this page</div><ul class="VPDocOutlineItem root" data-v-3dd0d1cf data-v-d0276d81><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9c01962><div class="content-container" data-v-e9c01962><!--[--><!--]--><main class="main" data-v-e9c01962><div style="position:relative;" class="vp-doc _develop_tracing" data-v-e9c01962><div><h1 id="run-tracing" tabindex="-1">Run Tracing <a class="header-anchor" href="#run-tracing" aria-label="Permalink to â€œRun Tracingâ€">â€‹</a></h1><p>In the Trace page of the Studio sidebar, you can view detailed information about run tracing, including inputs and outputs of various modules, tool call information, execution time, and other runtime information.</p><p>This feature is built on the <a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-spans/" target="_blank" rel="noreferrer">OpenTelemetry semantic conventions</a> and <a href="https://opentelemetry.io/docs/specs/otlp/" target="_blank" rel="noreferrer">OTLP protocol</a>. It not only provides out-of-the-box reception and storage of various observability information reported by AgentScope, but also supports integration of data reported by any collection tools/AI application frameworks based on OpenTelemetry or LoongSuite.</p><p><img src="/assets/tracing_detail_chat_history.CCmZjnaK.png" alt="Trace"></p><h2 id="overview-page" tabindex="-1">Overview Page <a class="header-anchor" href="#overview-page" aria-label="Permalink to â€œOverview Pageâ€">â€‹</a></h2><p>On this page, you can view basic information about trace data reported to Studio.</p><blockquote><p>ðŸ’¡ <strong>Tip</strong>: Hover your mouse over the icon next to the trace name to view basic metadata of that trace, such as Trace ID.</p></blockquote><p><img src="/assets/tracing_overview.CEZgAmPC.png" alt="Trace"></p><h2 id="details-page" tabindex="-1">Details Page <a class="header-anchor" href="#details-page" aria-label="Permalink to â€œDetails Pageâ€">â€‹</a></h2><p>Click on any trace in the overview page to view the call sequence and call relationships of that trace. Further select calls at different levels to see detailed context when these calls occurred.</p><p>In the Metadata area, you can view the input and output of calls. For AI-related calls, such as LLM, Agent, etc., inputs and outputs will be displayed according to the <a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-spans/#recording-content-on-attributes" target="_blank" rel="noreferrer">structure</a> defined by the OpenTelemetry semantic conventions. For regular calls, such as Function, Format, etc., inputs and outputs will be displayed according to the AgentScope extended <a href="#agentscope-extended-conventions">semantic conventions</a>.</p><p><img src="/assets/tracing_detail_chat_history.CCmZjnaK.png" alt="Trace"></p><p>In the All Attributes area, you can see all key metadata of this call, with naming following the <a href="#semantic-conventions">semantic conventions</a>.</p><p><img src="/assets/tracing_detail_attributes.u2c9n3GU.png" alt="Trace"></p><h2 id="semantic-conventions" tabindex="-1">Semantic Conventions <a class="header-anchor" href="#semantic-conventions" aria-label="Permalink to â€œSemantic Conventionsâ€">â€‹</a></h2><p>AgentScope-Studio&#39;s observability data follows semantic conventions based on <a href="#opentelemetry-generative-ai">OpenTelemetry</a>. Data following these semantic conventions will receive more accurate and clear processing and display in Studio.</p><blockquote><p>ðŸ’¡ <strong>Tip</strong>: The native observability capabilities of the AgentScope library already follow these semantic conventions. Even if observability data from other sources does not yet follow these semantic conventions, trace data can still be displayed normally, but some key information may not be highlighted/specially displayed.</p></blockquote><h3 id="opentelemetry-generative-ai" tabindex="-1">OpenTelemetry Generative AI <a class="header-anchor" href="#opentelemetry-generative-ai" aria-label="Permalink to â€œOpenTelemetry Generative AIâ€">â€‹</a></h3><p>OpenTelemetry provides a set of semantic convention standards for observability data of Generative AI applications. For detailed definitions, see <a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-spans/" target="_blank" rel="noreferrer">Semantic conventions for generative client AI spans</a> and <a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-agent-spans/" target="_blank" rel="noreferrer">Semantic Conventions for GenAI agent and framework spans</a>.</p><blockquote><p>ðŸ’¡ <strong>Tip</strong>: Studio currently follows OpenTelemetry semantic conventions version 1.38.0.</p></blockquote><p>Current semantic conventions include:</p><ul><li><a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-spans/#inference" target="_blank" rel="noreferrer"><strong>Inference</strong></a>: model calls</li><li><a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-agent-spans/#invoke-agent-span" target="_blank" rel="noreferrer"><strong>Invoke agent span</strong></a>: agent calls</li><li><a href="https://opentelemetry.io/docs/specs/semconv/gen-ai/gen-ai-spans/#execute-tool-span" target="_blank" rel="noreferrer"><strong>Execute tool span</strong></a>: toolkit calls</li></ul><h3 id="agentscope-extended-conventions" tabindex="-1">AgentScope Extended Conventions <a class="header-anchor" href="#agentscope-extended-conventions" aria-label="Permalink to â€œAgentScope Extended Conventionsâ€">â€‹</a></h3><p>In addition to various semantic conventions defined in OpenTelemetry, AgentScope has extended semantic conventions for some specific call processes to display the call process more clearly.</p><h4 id="common-call" tabindex="-1">Common Call <a class="header-anchor" href="#common-call" aria-label="Permalink to â€œCommon Callâ€">â€‹</a></h4><p>Applicable to all key call processes occurring in AI applications.</p><table tabindex="0"><thead><tr><th>Key</th><th><a href="https://opentelemetry.io/docs/specs/semconv/general/attribute-requirement-level/" target="_blank" rel="noreferrer">Requirement Level</a></th><th>Value Type</th><th>Description</th><th>Example Values</th></tr></thead><tbody><tr><td><code>agentscope.function.name</code></td><td><code>Recommended</code></td><td>string</td><td>The name of the method/function called.</td><td><code>DashScopeChatModel.__call__</code>; <code>ToolKit.callTool</code></td></tr><tr><td><code>agentscope.function.input</code></td><td><code>Opt-In</code></td><td>string</td><td>The input of the method/function. [1]</td><td>{<br>Â Â &quot;tool_call&quot;: {<br>Â Â Â Â &quot;type&quot;: &quot;tool_use&quot;,<br>Â Â Â Â &quot;id&quot;: &quot;call_83fce0d1d2684545a13649&quot;,<br>Â Â Â Â &quot;name&quot;: &quot;multiply&quot;,<br>Â Â Â Â &quot;input&quot;: {<br>Â Â Â Â Â Â &quot;a&quot;: 5,<br>Â Â Â Â Â Â &quot;b&quot;: 3<br>Â Â Â Â }<br>Â Â }<br>}</td></tr><tr><td><code>agentscope.function.output</code></td><td><code>Opt-In</code></td><td>string</td><td>The return value of the method/function. [2]</td><td><code>ToolResponse(content=[{&#39;type&#39;: &#39;text&#39;, &#39;text&#39;: &#39;5 Ã— 3 = 15&#39;}], metadata=None, stream=False, is_last=True, is_interrupted=False, id=&#39;2025-11-28 00:38:52.733_cc4ead&#39;)</code></td></tr></tbody></table><p><strong>[1] <code>agentscope.function.input</code></strong>: Method/function input parameters. <strong>Must</strong> be serialized in JSON format.</p><p><strong>[2] <code>agentscope.function.output</code></strong>: The return value of the method/function. Serialized in JSON or toString format.</p><h4 id="format-call" tabindex="-1">Format Call <a class="header-anchor" href="#format-call" aria-label="Permalink to â€œFormat Callâ€">â€‹</a></h4><p>This span represents the preparation and formatting process of the request before initiating a model call. In AgentScope, this method corresponds to the invocation of the Formatter tool.</p><p><code>gen_ai.operation.name</code> <strong>should</strong> be <code>format</code>.</p><p><strong>Span name should</strong> be <code>format {agentscope.format.target}</code>.</p><p><strong>Span kind should</strong> be <code>INTERNAL</code>.</p><p><strong>Span status should</strong> follow the <a href="https://opentelemetry.io/docs/specs/semconv/general/recording-errors/" target="_blank" rel="noreferrer">recording errors</a> documentation.</p><p><strong>Attributes:</strong></p><table tabindex="0"><thead><tr><th>Key</th><th><a href="https://opentelemetry.io/docs/specs/semconv/general/attribute-requirement-level/" target="_blank" rel="noreferrer">Requirement Level</a></th><th>Value Type</th><th>Description</th><th>Example Values</th></tr></thead><tbody><tr><td><code>gen_ai.operation.name</code></td><td><code>Required</code></td><td>string</td><td>The name of the operation being performed.</td><td><code>chat</code>; <code>generate_content</code>; <code>text_completion</code></td></tr><tr><td><code>error.type</code></td><td><code>Conditionally Required</code> if the operation ended in an error</td><td>string</td><td>The error thrown when the operation aborted.</td><td><code>timeout</code>; <code>java.net.UnknownHostException</code>; <code>server_certificate_invalid</code>; <code>500</code></td></tr><tr><td><code>agentscope.format.target</code></td><td><code>Required</code></td><td>string</td><td>The target type to format to. If the target type cannot be resolved, set to &#39;unknown&#39;.</td><td><code>dashscope</code>; <code>openai</code></td></tr><tr><td><code>agentscope.format.count</code></td><td><code>Recommended</code></td><td>int</td><td>The actual number of messages formatted. [1]</td><td><code>3</code></td></tr><tr><td><code>agentscope.function.name</code></td><td><code>Recommended</code></td><td>string</td><td>The name of the method/function called.</td><td><code>DashScopeChatModel.__call__</code>; <code>ToolKit.callTool</code></td></tr><tr><td><code>agentscope.function.input</code></td><td><code>Opt-In</code></td><td>string</td><td>The input of the method/function. [2]</td><td>{<br>Â Â &quot;tool_call&quot;: {<br>Â Â Â Â &quot;type&quot;: &quot;tool_use&quot;,<br>Â Â Â Â &quot;id&quot;: &quot;call_83fce0d1d2684545a13649&quot;,<br>Â Â Â Â &quot;name&quot;: &quot;multiply&quot;,<br>Â Â Â Â &quot;input&quot;: {<br>Â Â Â Â Â Â &quot;a&quot;: 5,<br>Â Â Â Â Â Â &quot;b&quot;: 3<br>Â Â Â Â }<br>Â Â }<br>}</td></tr><tr><td><code>agentscope.function.output</code></td><td><code>Opt-In</code></td><td>string</td><td>The return value of the method/function. [3]</td><td><code>ToolResponse(content=[{&#39;type&#39;: &#39;text&#39;, &#39;text&#39;: &#39;5 Ã— 3 = 15&#39;}], metadata=None, stream=False, is_last=True, is_interrupted=False, id=&#39;2025-11-28 00:38:52.733_cc4ead&#39;)</code></td></tr></tbody></table><p><strong>[1] <code>agentscope.format.count</code></strong>: The actual number of messages formatted. The value is consistent with the size of the message list returned after the formatting function is executed. If truncation or message trimming is performed during formatting, this value may be less than the size of the incoming message list.</p><p><strong>[2] <code>agentscope.function.input</code></strong>: Method/function input parameters. <strong>Must</strong> be serialized in JSON format.</p><p><strong>[3] <code>agentscope.function.output</code></strong>: The return value of the method/function. Serialized in JSON or toString format.</p><h4 id="function-call" tabindex="-1">Function Call <a class="header-anchor" href="#function-call" aria-label="Permalink to â€œFunction Callâ€">â€‹</a></h4><p>This span represents the process of initiating any key call. In AgentScope, this method corresponds to the execution process of regular functions, and only takes effect when users add trace tracking capability to methods/functions through the methods provided by AgentScope.</p><p><code>gen_ai.operation.name</code> <strong>should</strong> be <code>invoke_generic_function</code>.</p><p><strong>Span name should</strong> be <code>invoke_generic_function {agentscope.function.name}</code>.</p><p><strong>Span kind should</strong> be <code>INTERNAL</code>.</p><p><strong>Span status should</strong> follow the <a href="https://opentelemetry.io/docs/specs/semconv/general/recording-errors/" target="_blank" rel="noreferrer">recording errors</a> documentation.</p><p><strong>Attributes:</strong></p><table tabindex="0"><thead><tr><th>Key</th><th><a href="https://opentelemetry.io/docs/specs/semconv/general/attribute-requirement-level/" target="_blank" rel="noreferrer">Requirement Level</a></th><th>Value Type</th><th>Description</th><th>Example Values</th></tr></thead><tbody><tr><td><code>gen_ai.operation.name</code></td><td><code>Required</code></td><td>string</td><td>The name of the operation being performed.</td><td><code>chat</code>; <code>generate_content</code>; <code>text_completion</code></td></tr><tr><td><code>error.type</code></td><td><code>Conditionally Required</code> if the operation ended in an error</td><td>string</td><td>The error thrown when the operation aborted.</td><td><code>timeout</code>; <code>java.net.UnknownHostException</code>; <code>server_certificate_invalid</code>; <code>500</code></td></tr><tr><td><code>agentscope.function.name</code></td><td><code>Recommended</code></td><td>string</td><td>The name of the method/function called.</td><td><code>DashScopeChatModel.__call__</code>; <code>ToolKit.callTool</code></td></tr><tr><td><code>agentscope.function.input</code></td><td><code>Opt-In</code></td><td>string</td><td>The input of the method/function. [1]</td><td>{<br>Â Â &quot;tool_call&quot;: {<br>Â Â Â Â &quot;type&quot;: &quot;tool_use&quot;,<br>Â Â Â Â &quot;id&quot;: &quot;call_83fce0d1d2684545a13649&quot;,<br>Â Â Â Â &quot;name&quot;: &quot;multiply&quot;,<br>Â Â Â Â &quot;input&quot;: {<br>Â Â Â Â Â Â &quot;a&quot;: 5,<br>Â Â Â Â Â Â &quot;b&quot;: 3<br>Â Â Â Â }<br>Â Â }<br>}</td></tr><tr><td><code>agentscope.function.output</code></td><td><code>Opt-In</code></td><td>string</td><td>The return value of the method/function. [2]</td><td><code>ToolResponse(content=[{&#39;type&#39;: &#39;text&#39;, &#39;text&#39;: &#39;5 Ã— 3 = 15&#39;}], metadata=None, stream=False, is_last=True, is_interrupted=False, id=&#39;2025-11-28 00:38:52.733_cc4ead&#39;)</code></td></tr></tbody></table><p><strong>[1] <code>agentscope.function.input</code></strong>: Method/function input parameters. <strong>Must</strong> be serialized in JSON format.</p><p><strong>[2] <code>agentscope.function.output</code></strong>: The return value of the method/function. Serialized in JSON or toString format.</p><h2 id="integration" tabindex="-1">Integration <a class="header-anchor" href="#integration" aria-label="Permalink to â€œIntegrationâ€">â€‹</a></h2><p>AgentScope Studio provides services that comply with the <a href="https://opentelemetry.io/docs/specs/otlp/" target="_blank" rel="noreferrer">OpenTelemetry Protocol (OTLP)</a> specification.</p><p>By default, after AgentScope Studio starts, it exposes the following service endpoints:</p><ul><li><strong>OTLP/Trace/gRPC</strong>: <code>localhost:4317</code>, you can adjust the gRPC service endpoint by modifying the <code>OTEL_GRPC_PORT</code> environment variable.</li><li><strong>OTLP/Trace/HTTP</strong>: <code>localhost:3000</code>, you can adjust the HTTP service endpoint by modifying the <code>PORT</code> environment variable.</li></ul><blockquote><p>ðŸ’¡ <strong>Tip</strong>: Studio currently only supports receiving Trace type data.</p></blockquote><h3 id="agentscope-application-integration" tabindex="-1">AgentScope Application Integration <a class="header-anchor" href="#agentscope-application-integration" aria-label="Permalink to â€œAgentScope Application Integrationâ€">â€‹</a></h3><p>The AgentScope framework natively supports Trace data collection and export. You can add some additional code to your application to implement Trace data reporting.</p><h4 id="agentscope-python-application" tabindex="-1">AgentScope Python Application <a class="header-anchor" href="#agentscope-python-application" aria-label="Permalink to â€œAgentScope Python Applicationâ€">â€‹</a></h4><p>Add the following initialization code before your application code.</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> agentscope</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">agentscope.init(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">studio_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Replace this with Studio&#39;s HTTP service endpoint</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># your application code</span></span></code></pre></div><h4 id="agentscope-java-application" tabindex="-1">AgentScope Java Application <a class="header-anchor" href="#agentscope-java-application" aria-label="Permalink to â€œAgentScope Java Applicationâ€">â€‹</a></h4><ol><li>Introduce the dependencies required to connect to Studio in your project.</li></ol><p>maven:</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;io.agentscope&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;agentscope-extensions-studio&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>gradle:</p><div class="language-gradle"><button title="Copy Code" class="copy"></button><span class="lang">gradle</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>implementation(&quot;io.agentscope:agentscope-extensions-studio&quot;)</span></span></code></pre></div><ol start="2"><li>Add the following initialization code before your application code.</li></ol><div class="language-Java"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  StudioManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">studioUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // your application code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="loongsuite-opentelemetry-agent-integration" tabindex="-1">LoongSuite/OpenTelemetry Agent Integration <a class="header-anchor" href="#loongsuite-opentelemetry-agent-integration" aria-label="Permalink to â€œLoongSuite/OpenTelemetry Agent Integrationâ€">â€‹</a></h3><p>LoongSuite agents are non-intrusive observability data collection tools for multi-language AI applications, developed by the Alibaba Cloud Cloud Native team based on OpenTelemetry agents. These agents achieve non-intrusive observability through compile-time/runtime code enhancement mechanisms by completing code instrumentation of application code.</p><p>The data collected by LoongSuite agents and OpenTelemetry agents are both exported using OTLP Exporter, so they can be directly received and stored by AgentScope Studio. Currently supported agents include:</p><ul><li><a href="https://github.com/alibaba/loongsuite-python-agent" target="_blank" rel="noreferrer">LoongSuite Python Agent</a></li><li><a href="https://github.com/alibaba/loongsuite-go-agent" target="_blank" rel="noreferrer">LoongSuite Go Agent</a></li><li><a href="https://github.com/alibaba/loongsuite-java-agent" target="_blank" rel="noreferrer">LoongSuite Java Agent</a></li><li><a href="https://github.com/open-telemetry/opentelemetry-python-contrib" target="_blank" rel="noreferrer">OpenTelemetry Python Agent</a></li><li><a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation" target="_blank" rel="noreferrer">OpenTelemetry Java Agent</a></li><li><a href="https://github.com/open-telemetry/opentelemetry-js-contrib" target="_blank" rel="noreferrer">OpenTelemetry JavaScript Agent</a></li><li>...(Any other data collectors that support OTLP Exporter)</li></ul><h4 id="loongsuite-python-agent-integration" tabindex="-1">LoongSuite Python Agent Integration <a class="header-anchor" href="#loongsuite-python-agent-integration" aria-label="Permalink to â€œLoongSuite Python Agent Integrationâ€">â€‹</a></h4><ol><li>Refer to the <a href="https://github.com/alibaba/loongsuite-python-agent/tree/main/instrumentation-loongsuite/loongsuite-instrumentation-agentscope" target="_blank" rel="noreferrer">LoongSuite Python Agent official documentation</a> to install the agent</li><li>Modify the startup parameters to export data to AgentScope Studio. Please replace <code>exporter_otlp_endpoint</code> with your Studio&#39;s gRPC service address</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loongsuite-instrument</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --traces_exporter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> otlp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --metrics_exporter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --service_name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-service-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --exporter_otlp_endpoint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0.0.0.0:4317</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp.py</span></span></code></pre></div><h4 id="opentelemetry-java-agent-integration" tabindex="-1">OpenTelemetry Java Agent Integration <a class="header-anchor" href="#opentelemetry-java-agent-integration" aria-label="Permalink to â€œOpenTelemetry Java Agent Integrationâ€">â€‹</a></h4><ol><li>Refer to the <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation" target="_blank" rel="noreferrer">OpenTelemetry Java Agent official documentation</a> to install the agent</li><li>Modify the startup parameters to export data to AgentScope Studio. Please replace <code>otel.exporter.otlp.traces.endpoint</code> with your Studio&#39;s gRPC service address</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -javaagent:path/to/opentelemetry-javaagent.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -Dotel.resource.attributes=service.name=your-service-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -Dotel.traces.exporter=otlp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -Dotel.metrics.exporter=console</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -Dotel.exporter.otlp.traces.endpoint=http://localhost:4317</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp.jar</span></span></code></pre></div><h3 id="advanced-integration-import-custom-trace-data" tabindex="-1">Advanced Integration: Import Custom Trace Data <a class="header-anchor" href="#advanced-integration-import-custom-trace-data" aria-label="Permalink to â€œAdvanced Integration: Import Custom Trace Dataâ€">â€‹</a></h3><p>If you need to export observability data from any source as trace data to AgentScope Studio, you can assemble the data according to the <a href="https://opentelemetry.io/docs/specs/otlp/" target="_blank" rel="noreferrer">OTLP protocol</a>. AgentScope Studio receives trace data encoded in Protobuf format and provides both HTTP and gRPC services. The service exposure methods follow the <a href="https://github.com/open-telemetry/opentelemetry-proto/blob/main/opentelemetry/proto/collector/trace/v1/trace_service_http.yaml" target="_blank" rel="noreferrer">OTLP/HTTP</a> and <a href="https://github.com/open-telemetry/opentelemetry-proto/blob/main/opentelemetry/proto/collector/trace/v1/trace_service.proto" target="_blank" rel="noreferrer">OTLP/gRPC</a> conventions, and the data body follows the <a href="https://github.com/open-telemetry/opentelemetry-proto/blob/main/opentelemetry/proto/trace/v1/trace.proto" target="_blank" rel="noreferrer">OTLP Protobuf</a> definition.</p><h4 id="export-data-using-otlp-exporter" tabindex="-1">Export Data Using OTLP Exporter <a class="header-anchor" href="#export-data-using-otlp-exporter" aria-label="Permalink to â€œExport Data Using OTLP Exporterâ€">â€‹</a></h4><p>To ensure data correctness, it is strongly recommended that you use OTLP Exporter for data export. You can find more detailed tutorials in the <a href="https://opentelemetry.io/docs/specs/otel/protocol/exporter/" target="_blank" rel="noreferrer">OTLP official documentation</a>. Here is an OTLP Exporter example in Python:</p><blockquote><p>ðŸ’¡ <strong>Tip</strong>: This section partially references the <a href="https://opentelemetry-python.readthedocs.io/en/latest/exporter/otlp/otlp.html" target="_blank" rel="noreferrer">OpenTelemetry Python API</a>.</p></blockquote><p>Create an OTLP Exporter and initialize TracerProvider:</p><div class="language-Python"><button title="Copy Code" class="copy"></button><span class="lang">Python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> opentelemetry.sdk.trace </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TracerProvider</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> opentelemetry.sdk.trace.export </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BatchSpanProcessor</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> opentelemetry.exporter.otlp.proto.http.trace_exporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    OTLPSpanExporter,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tracer_provider </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TracerProvider()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># OTLP/HTTP for OpenTelemetry Python SDK by default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OTLPSpanExporter(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">endpoint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span_processor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BatchSpanProcessor(exporter)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tracer_provider.add_span_processor(span_processor)</span></span></code></pre></div><p>Use TracerProvider to create a Tracer and build Span:</p><div class="language-Python"><button title="Copy Code" class="copy"></button><span class="lang">Python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># create tracer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tracer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tracer_provider.get_tracer(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># create span</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># attributes maybe set here</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tracer.start_as_current_span(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> span:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # do something</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # attributes may be set here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        span.set_attributes({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        span.set_status(trace_api.StatusCode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        span.set_status(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            trace_api.StatusCode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERROR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        span.record_exception(e)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        raise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-e9c01962 data-v-4f9813fa><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/develop/project.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Project</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/develop/evaluation.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Evaluation</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"agent_friday.md\":\"CX7l7A65\",\"develop_evaluation.md\":\"B4GELef9\",\"develop_project.md\":\"B0OWoTOJ\",\"develop_tracing.md\":\"DeF2aZ2f\",\"index.md\":\"CHXP6BWZ\",\"tutorial_contributing.md\":\"lXYSguMk\",\"tutorial_overview.md\":\"A2OQAzXx\",\"tutorial_quick_start.md\":\"D0JEBN1W\",\"zh_cn_agent_friday.md\":\"LA3xL1kh\",\"zh_cn_develop_evaluation.md\":\"DADpiOZV\",\"zh_cn_develop_project.md\":\"CY2idzMT\",\"zh_cn_develop_tracing.md\":\"dvdN6n_l\",\"zh_cn_index.md\":\"D7MZglct\",\"zh_cn_tutorial_contributing.md\":\"Cq0EDrj9\",\"zh_cn_tutorial_overview.md\":\"byZ9s3KT\",\"zh_cn_tutorial_quick_start.md\":\"BQx_tU5p\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AgentScope-Studio\",\"description\":\"A development-oriented visualization toolkit for AgentScope\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/agentscope-ai/agentscope-studio\"}],\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Tutorial\",\"link\":\"/tutorial/overview\"}],\"sidebar\":[{\"text\":\"Tutorial\",\"items\":[{\"text\":\"Overview\",\"link\":\"/tutorial/overview\"},{\"text\":\"Quick Start\",\"link\":\"/tutorial/quick_start\"},{\"text\":\"Contributing\",\"link\":\"/tutorial/contributing\"}]},{\"text\":\"Develop\",\"items\":[{\"text\":\"Project\",\"link\":\"/develop/project\"},{\"text\":\"Tracing\",\"link\":\"/develop/tracing\"},{\"text\":\"Evaluation\",\"link\":\"/develop/evaluation\"}]},{\"text\":\"Agent\",\"items\":[{\"text\":\"Friday\",\"link\":\"/agent/friday\"}]}]}},\"zh_CN\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh-CN\",\"link\":\"/zh_CN/\",\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/agentscope-ai/agentscope-studio\"}],\"nav\":[{\"text\":\"é¦–é¡µ\",\"link\":\"/zh_CN/\"},{\"text\":\"æ•™ç¨‹\",\"link\":\"/zh_CN/tutorial/overview\"}],\"sidebar\":[{\"text\":\"æ•™ç¨‹\",\"items\":[{\"text\":\"æ¦‚è§ˆ\",\"link\":\"/zh_CN/tutorial/overview\"},{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"link\":\"/zh_CN/tutorial/quick_start\"},{\"text\":\"è´¡çŒ®æŒ‡å—\",\"link\":\"/zh_CN/tutorial/contributing\"}]},{\"text\":\"å¼€å‘\",\"items\":[{\"text\":\"é¡¹ç›®ç®¡ç†\",\"link\":\"/zh_CN/develop/project\"},{\"text\":\"è¿è¡Œè¿½è¸ª\",\"link\":\"/zh_CN/develop/tracing\"},{\"text\":\"åº”ç”¨è¯„æµ‹\",\"link\":\"/zh_CN/develop/evaluation\"}]},{\"text\":\"æ™ºèƒ½ä½“\",\"items\":[{\"text\":\"Friday\",\"link\":\"/zh_CN/agent/friday\"}]}]}}},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>